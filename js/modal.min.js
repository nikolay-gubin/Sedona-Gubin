const searchHotels=document.querySelector(".search-hotels"),modalForm=document.querySelector(".modal-form"),nameDate=modalForm.querySelector("[name=check-in]"),departureDate=modalForm.querySelector("[name=departure]"),grownCount=modalForm.querySelector("[name=grown]"),childrenCount=modalForm.querySelector("[name=children]");let isStorageSupport=!0,grownStorage="",childrenStorage="";try{grownStorage=localStorage.getItem("grownCount"),childrenStorage=localStorage.getItem("childrenCount")}catch(e){isStorageSupport=!1}searchHotels.addEventListener("click",function(e){e.preventDefault(),modalForm.classList.toggle("modal-show"),nameDate.focus(),grownStorage&&childrenStorage&&(grownCount.value=grownStorage,childrenCount.value=childrenStorage),errorMessage.classList.contains("modal-error")&&errorMessage.classList.remove("modal-error"),modalForm.classList.contains("modal-show")&&modalForm.classList.add("form-animation")}),modalForm.addEventListener("submit",function(e){nameDate.value&&departureDate.value&&grownCount.value&&childrenCount.value?isStorageSupport&&localStorage.setItem("login",nameDate.value,departureDate.value,grownCount.value):(e.preventDefault(),modalForm.classList.remove("modal-error"),modalForm.offsetWidth=modalForm.offsetWidth,modalForm.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalForm.classList.contains("modal-show")&&(e.preventDefault(),modalForm.classList.remove("modal-show"),modalForm.classList.remove("modal-error"))});